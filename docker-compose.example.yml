version: '3.8'

services:
  gemini-agent:
    build: .
    ports:
      - "5000:5000"
    volumes:
      - ./:/codebase
      - ./config:/config
      - ${SSH_AUTH_SOCK}:/ssh-agent
    environment:
      - GOOGLE_API_KEY
      - CHAT_HISTORY_FILE=/config/chat_history.json
      - SSH_AUTH_SOCK=/ssh-agent
